webpackJsonp([8],{wTv4:function(t,s){},wvND:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("4YfN"),i=a.n(e),r=a("2bvH"),o=null,d={name:"",data:function(){return{show:!1,show1:!1,orderId:"",detailData:{},isSelectedFirst:!0}},components:{},methods:i()({},Object(r.b)(["getUserId"]),Object(r.c)(["setBackName"]),{ensureTrade:function(){var t=this,s={userId:this.getUserId(),orderId:this.$route.params.orderId};this.$http.ensureTrade(s).then(function(s){s&&1===s.code&&(t.$toast.success("收货成功"),t.show=!1)})},returnTrade:function(){var t=this,s={userId:this.getUserId(),orderId:this.$route.params.orderId,remark:this.isSelectedFirst?"我要退款（无需退货）":"我要退货退款"};this.$http.returnTrade(s).then(function(s){s&&1===s.code&&t.$toast.success("退款申请成功"),t.show1=!1,o=setTimeout(function(){t.$router.push("/order-list")},3e3)})}}),mounted:function(){var t=this;this.setBackName("order-list");var s={userId:this.getUserId(),orderId:this.$route.params.orderId};this.$http.getOrderDetail(s).then(function(s){s&&1===s.code&&(t.detailData=s.data)})},beforeRouteLeave:function(t,s,a){clearTimeout(o),a()}},v={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"order-detail"},[1==t.detailData.orderStatus?a("div",{staticClass:"info-img img-daifahuo"}):2==t.detailData.orderStatus?a("div",{staticClass:"info-img img-yifahuo"}):a("div",{staticClass:"info-img img-success"}),t._v(" "),a("div",{staticClass:"user-info"},[a("p",{staticClass:"user"},[t._v("收货人："+t._s(t.detailData.name))]),t._v(" "),a("p",{staticClass:"tel"},[t._v(t._s(t.detailData.phone))]),t._v(" "),a("p",{staticClass:"address"},[t._v("地址："+t._s(t.detailData.province)+" "+t._s(t.detailData.city)+" "+t._s(t.detailData.area)+" "+t._s(t.detailData.address))])]),t._v(" "),a("div",{staticClass:"margin"}),t._v(" "),a("div",{staticClass:"shop-info"},[a("div",{staticClass:"item-header"},[a("div",{staticClass:"shop-avatar"}),t._v(" "),a("div",{staticClass:"shop-name"},[t._v("奔跑的蜗牛")]),t._v(" "),a("div",{staticClass:"right"},[a("van-icon",{attrs:{name:"arrow",size:".14rem"}})],1),t._v(" "),1==t.detailData.orderStatus?a("div",{staticClass:"status status-going"},[t._v("待发货")]):2==t.detailData.orderStatus?a("div",{staticClass:"status status-going"},[t._v("配送中")]):3==t.detailData.orderStatus?a("div",{staticClass:"status status-success"},[t._v("交易完成")]):-1==t.detailData.orderStatus?a("div",{staticClass:"status status-return"},[t._v("退款申请中")]):-2==t.detailData.orderStatus?a("div",{staticClass:"status status-return"},[t._v("退款中")]):-3==t.detailData.orderStatus?a("div",{staticClass:"status status-success"},[t._v("退款完成")]):t._e()]),t._v(" "),a("div",{staticClass:"desc"},[a("div",{staticClass:"desc-img"}),t._v(" "),a("div",{staticClass:"desc-info"},[a("div",{staticClass:"text"},[t._v(t._s(t.detailData.title))]),t._v(" "),a("div",{staticClass:"price"},[t._v("￥"+t._s(t.detailData.payPrice))]),t._v(" "),a("div",{staticClass:"inventory"},[t._v("数量："+t._s(t.detailData.number))])])]),t._v(" "),a("div",{staticClass:"true-price"},[a("span",[t._v("实付金额")]),t._v(" "),a("span",[t._v("￥"),a("i",[t._v(t._s(t._f("getParseInt")(t.detailData.payPrice)))]),t._v("."+t._s(t._f("getFloat")(t.detailData.payPrice)))])])]),t._v(" "),a("div",{staticClass:"margin"}),t._v(" "),a("div",{staticClass:"order-info-warp"},[a("div",{staticClass:"order-info"},[a("p",[a("span",[t._v("订单编号")]),t._v(" "),a("span",[t._v(t._s(t.detailData.orderNumber))])]),t._v(" "),a("p",[a("span",[t._v("购买时间")]),t._v(" "),a("span",[t._v(t._s(t._f("formatDate")(t.detailData.orderTime)))])]),t._v(" "),1!=t.detailData.orderStatus&&t.detailData.status>1?a("p",[a("span",[t._v("发货时间")]),t._v(" "),a("span",[t._v(t._s(t._f("formatDate")(t.detailData.sendTime)))])]):t._e(),t._v(" "),t.detailData.finishTime?a("p",[a("span",[t._v("成交时间")]),t._v(" "),a("span",[t._v(t._s(t._f("formatDate")(t.detailData.finishTime)))])]):t._e()])]),t._v(" "),a("div",{staticClass:"footer-flag"}),t._v(" "),2==t.detailData.orderStatus?a("div",{staticClass:"order-footer order-footer-yiifahuo"},[a("button",[t._v("退款")]),t._v(" "),a("button",{on:{click:function(s){t.show=!0}}},[t._v("确认收货")])]):t.detailData.orderStatus<0?a("div",{staticClass:"order-footer order-footer-tuihuo"}):a("div",{staticClass:"order-footer order-footer-daifahuo"},[a("button",{on:{click:function(s){t.show1=!0}}},[t._v("退款")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"dialog-confirm"},[a("div",{staticClass:"t-title"},[a("button",{staticClass:"close",on:{click:function(s){t.show=!1}}},[a("van-icon",{attrs:{name:"cross",size:".14rem"}})],1),t._v(" "),a("span",[t._v("确认收货")])]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"ok-btn",on:{click:t.ensureTrade}},[t._v("确 认")])]),t._v(" "),a("van-overlay",{attrs:{show:t.show}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.show1,expression:"show1"}],staticClass:"dialog-refund"},[a("div",{staticClass:"t-title"},[a("button",{staticClass:"close",on:{click:function(s){t.show1=!1}}},[a("van-icon",{attrs:{name:"cross",size:".14rem"}})],1),t._v(" "),a("span",[t._v("退款申请")])]),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"select1"},[a("h3",{class:t.isSelectedFirst?"select":"no-select",on:{click:function(s){t.isSelectedFirst=!0}}},[t._v("我要退款（无需退货）")]),t._v(" "),a("p",[t._v("没收到货，或与卖家协商同意不用退货只退款")])]),t._v(" "),a("div",{staticClass:"select2"},[a("h3",{class:t.isSelectedFirst?"no-select":"select",on:{click:function(s){t.isSelectedFirst=!1}}},[t._v("我要退货退款")]),t._v(" "),a("p",[t._v("已收到货，需要退还收到的货物")])])]),t._v(" "),a("div",{staticClass:"ok-btn",on:{click:t.returnTrade}},[t._v("确 认")])]),t._v(" "),a("van-overlay",{attrs:{show:t.show1}})],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"content"},[s("p",[this._v("成功收到商品，并确认收货！")])])}]};var c=a("C7Lr")(d,v,!1,function(t){a("wTv4")},"data-v-663968d6",null);s.default=c.exports}});