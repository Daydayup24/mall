webpackJsonp([4],{M9Ut:function(t,s){},U16X:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var n=i("4YfN"),a=i.n(n),e=i("2bvH"),o={name:"",data:function(){return{userId:this.$store.state.userId,merId:this.$store.state.merId,products:[],scanCount:0,loading:!1,finished:!1,page:1,total:10}},components:{},methods:a()({},Object(e.c)(["setBackName"]),Object(e.b)(["getUserId","getMerId"]),{init:function(){var t={merId:this.merId};this.page=1,this.total=10,this.getProducts(t)},getProducts:function(t){var s=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$http.getMerchantsShopList(t).then(function(t){if(s.loading=!0,t&&1===t.code){var n=t.data.products;s.products=1==i?n:s.products.concat(n)}s.scanCount=t.data.scanCount>99?"99+":t.data.scanCount;var a=t.data.total;s.total>=a&&(s.finished=!0),s.loading=!1})},onLoading:function(){this.page=this.page+1,this.total=this.total+10;var t={merId:this.merId,page:this.page};this.getProducts(t,this.page)},shopEdit:function(t){this.$router.push({name:"shop-upload",params:{id:t}})},del:function(t){var s=this;this.$dialog.confirm({message:"确定删除吗？",confirmButtonColor:"#FFD200"}).then(function(){var i={productId:t,merId:s.merId};s.$http.deleteShop(i).then(function(t){s.$toast.success("删除成功"),s.init()})}).catch(function(){})},share:function(t){},goDetail:function(t){this.$router.push({name:"detail",params:{id:t}})},goMessage:function(){this.$router.push("/message")}}),mounted:function(){var t=this;this.setBackName(null);var s=null;s=setInterval(function(){t.getUserId()&&t.getMerId()&&(t.init(),clearInterval(s))})}},c={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"shopList"},[0==t.products.length?i("div",{staticClass:"none"},[t._m(0),t._v(" "),i("button",{staticClass:"upLoad",on:{click:function(s){return t.$router.push("/shop-upload")}}},[t._v("立即上架")])]):i("div",{staticClass:"list"},[i("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了","immediate-check":!1},on:{load:t.onLoading},model:{value:t.loading,callback:function(s){t.loading=s},expression:"loading"}},t._l(t.products,function(s,n){return i("div",{key:s.id,class:n==t.products.length-1?"list-item list-item-finished":"list-item"},[i("div",{staticClass:"desc",on:{click:function(i){return t.goDetail(s.id)}}},[i("div",{staticClass:"desc-img"},[i("img",{attrs:{src:s.headImage}})]),t._v(" "),i("div",{staticClass:"desc-info"},[i("div",{staticClass:"text"},[t._v(t._s(s.title))]),t._v(" "),i("div",{staticClass:"price"},[i("span",[t._v("￥")]),t._v(t._s(s.price.split(".")[0])),i("span",[t._v("."+t._s(s.price.split(".")[1]))])]),t._v(" "),i("div",{staticClass:"inventory"},[t._v("库存："+t._s(s.number))])])]),t._v(" "),i("div",{staticClass:"edit-btn"},[i("div",{staticClass:"btn share",on:{click:function(i){return t.share(s.id)}}},[i("span",[t._v("分享")])]),t._v(" "),i("div",{staticClass:"btn edit",on:{click:function(i){return t.shopEdit(s.id)}}},[i("span",[t._v("编辑")])]),t._v(" "),i("div",{staticClass:"btn del",on:{click:function(i){return t.del(s.id)}}},[i("span",[t._v("删除")])])])])}),0)],1),t._v(" "),i("div",{staticClass:"btn-msg",on:{click:t.goMessage}},[0==t.scanCount?i("div",{staticClass:"msg"}):i("van-goods-action-icon",{staticClass:"msg",attrs:{info:t.scanCount}})],1),t._v(" "),0!=t.products.length?i("div",{staticClass:"l-footer"},[i("button",{staticClass:"btn-upload",on:{click:function(s){return t.$router.push("/shop-upload")}}},[t._v("继续上架")])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"img"},[s("div",{staticClass:"logo"}),this._v(" "),s("p",[this._v("你还没有上架任何商品！")])])}]};var d=i("C7Lr")(o,c,!1,function(t){i("M9Ut")},"data-v-da974ab6",null);s.default=d.exports}});